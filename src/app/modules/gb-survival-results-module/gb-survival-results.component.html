<p-accordion [multiple]="true">
  <p-accordionTab header="Current selection" [selected]=false>
    <div style="padding-top: 2em;">
      <span class="description">
        Time Granularity:
      </span>
      &nbsp;
      {{inputParameters.timeGranularity}}

      &nbsp;
      <span style="white-space: nowrap;">
        <span class="description">
          Time Limit:
        </span>
        &nbsp;
        {{inputParameters.timeLimit}}
        &nbsp;
      </span>
      <span style="white-space: nowrap;">
        <span class="description">
          Start Event:
        </span>
        &nbsp;
        {{inputParameters.startEvent}}
        &nbsp;

      </span>
      <span style="white-space: nowrap;">
        <span class="description">
          End Event:
        </span>
        &nbsp;
        {{inputParameters.endEvent}}
      </span>
      <span style="white-space: nowrap;">
        <span class="description">
          Start Modifier:
        </span>
        &nbsp;
        {{inputParameters.startModifier}}
        &nbsp;

      </span>
      <span style="white-space: nowrap;">
        <span class="description">
          End Modifier:
        </span>
        &nbsp;
        {{inputParameters.endModifier}}
      </span>

    </div>

  </p-accordionTab>
</p-accordion>

<p-overlayPanel #op [dismissable]="true" [showCloseIcon]="true">

  Confidence interval:
  <br>
  <p-dropdown [(ngModel)]="selectedIc" [options]="ic" placeholder="confidence interval"></p-dropdown>
  <p-dropdown [(ngModel)]="selectedAlpha" [options]="alphas" placeholder="1 - &alpha;"
    [disabled]="(selectedIc) ? false:true"></p-dropdown>
  <p-button label="Grid" (onClick)="grid = !grid"></p-button>
  <br>
  Number of ticks (rendering can modify this number to keep nice intervals):
  <br>
  <p-spinner [(ngModel)]="nofTicks" min="1" max="10"></p-spinner>

</p-overlayPanel>

<button class="smallbutton" (click)="op.toggle($event)"><i class="fa fa-cog"></i></button>
<button class="smallbutton" click="console.error('Export not implemented')"><i class="fa fa-download"></i></button>

<div class="row">
  <div class="column">
    <div id="survivalSvgContainer"></div>
  </div>
  <div class="column">
    <table id="summary">
      <tr>
        <th>Group</th>
        <th>Initial count</th>
        <th>Total # of events</th>
        <th>Total # of censoring events</th>
      </tr>
      <tr *ngFor="let curve of survivalCurve.curves;let i = index">
        <td>
          <i class="fa fa-users" aria-hidden="true" [style.color]="colorRange[i]"></i>
          {{i}}
        </td>
        <td>{{groupTotalAtRisk[i]}}</td>
        <td>{{groupTotalEvent[i]}}</td>
        <td>{{groupTotalCensoring[i]}}</td>

      </tr>
    </table>
    <p-dropdown [options]="groupTables" [(ngModel)]="selectedGroupTable"></p-dropdown>
    <br>
    <br>
    <table id="stattest">
      <tr>
        <th>{{selectedGroupTable.legend}}</th>
        <th *ngFor="let curve of survivalCurve.curves;let i = index">
          <i class="fa fa-users" aria-hidden="true" [style.color]="colorRange[i]"></i>
          {{i}}
        </th>
      </tr>
      <tr *ngFor="let curve of survivalCurve.curves;let i = index">
        <th>
          <i class="fa fa-users" aria-hidden="true" [style.color]="colorRange[i]"></i>
          {{i}}
        </th>
        <td *ngFor="let curve2 of survivalCurve.curves;let j = index">
          {{selectedGroupTable.table[i][j]}}
        </td>
      </tr>
    </table>
  </div>
</div>